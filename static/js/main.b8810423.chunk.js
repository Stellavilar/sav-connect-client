(this.webpackJsonpsavc=this.webpackJsonpsavc||[]).push([[0],{118:function(e,t){var c=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;e.exports={validate:function(e){return!!c.test(e)}}},119:function(e,t){var c=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;e.exports={validate:function(e){return!!c.test(e)}}},176:function(e,t,c){},251:function(e,t,c){},391:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(50),s=c(16),i=c(4),r=c(13),l=(c(251),c(9)),j=c.n(l),o=c(32),d=c(25),b=c(404),u=c(412),O=c(407),h=c(405),x=c(410),m=c.p+"static/media/savLogo.c30833bc.png",p=c(118),f=c.n(p),g=c(119),v=c.n(g),C=c(0),N=function(){var e=Object(r.f)(),t=Object(n.useState)({mail:"",password:""}),c=Object(i.a)(t,2),a=c[0],l=c[1],p=Object(n.useState)(null),g=Object(i.a)(p,2),N=g[0],S=g[1],k=Object(n.useState)(!1),w=Object(i.a)(k,2),I=w[0],F=w[1],_=function(e){l(Object(d.a)(Object(d.a)({},a),{},Object(o.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1],d=Object(n.useState)(""),x=Object(i.a)(d,2),m=x[0],p=x[1],g=Object(n.useState)(""),N=Object(i.a)(g,2),S=N[0],k=N[1],w=Object(n.useState)(!1),I=Object(i.a)(w,2),F=I[0],_=I[1],y=Object(n.useState)(!1),A=Object(i.a)(y,2),D=A[0],L=A[1],z=function(e,t){var c=t.value;return L({value:c})},R=Object(n.useRef)(!0),M=Object(n.useState)(null),E=Object(i.a)(M,2),T=E[0],B=E[1],V=Object(n.useState)(""),P=Object(i.a)(V,2),H=P[0],K=P[1];return Object(n.useEffect)((function(){R.current?R.current=!1:""===l||""===c||""===S?B("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"):S!==H?B("* Mot de passe incorrect"):f.a.validate(S)?v.a.validate(m)?B(null):B(" * Mail incorrect"):B(" * Votre mot de passe doit contenir une majuscule, un chiffre et un caract\xe8re sp\xe9cial")}),[l,c,S,m,H]),Object(C.jsx)("div",{className:"create-account",children:Object(C.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),j.a.post("user/add",{firstname:c,lastname:l,mail:m,password:S,role_id:D.value},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){if(e.data.error)return B(" * Erreur, veuillez recommencer");_(!0)})).catch((function(e){console.log(e)}))},className:"account-form",children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nom"}),Object(C.jsx)("input",{type:"text",name:"lastname",onChange:function(e){return o(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Pr\xe9nom"}),Object(C.jsx)("input",{type:"text",name:"firstname",onChange:function(e){return a(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Adresse mail"}),Object(C.jsx)("input",{type:"text",name:"mail",onChange:function(e){return p(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Mot de passe"}),Object(C.jsx)("input",{type:"password",name:"password",onChange:function(e){return k(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Confirmez le mot de passe"}),Object(C.jsx)("input",{type:"password",name:"password2",onChange:function(e){return K(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"R\xf4le"}),Object(C.jsx)(u.a,{radio:!0,label:"Administrateur",name:"role_id",value:"2",checked:"2"===D.value,onChange:z}),Object(C.jsx)(u.a,{radio:!0,label:"Utilisateur",name:"role_id",value:"1",checked:"1"===D.value,onChange:z})]}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]}),T&&Object(C.jsx)("p",{className:"error-message",children:T}),Object(C.jsx)(h.a,{open:F,onConfirm:function(){_(!1),window.location.reload(!1)},content:" Compte cr\xe9e avec succ\xe8s! Vous pouvez vous connecter",confirmButton:"OK"})]})})};return Object(C.jsxs)("div",{className:"login",children:[Object(C.jsx)("img",{src:m,alt:"logo"}),Object(C.jsxs)("div",{className:"login-part",children:[Object(C.jsxs)("div",{className:"login-part-one",children:[Object(C.jsx)(x.a,{as:"h2",children:"Se connecter"}),Object(C.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),j.a.post("login",a).then((function(t){t.data.token?!0===t.data.isAdmin?(e.push("/dashboard"),localStorage.setItem("token",t.data.token),localStorage.setItem("isAdmin",!0),window.location.reload(!1)):!1===t.data.isAdmin&&(e.push("/dashboard"),localStorage.setItem("token",t.data.token),localStorage.setItem("isAdmin",!1),window.location.reload(!1)):S(" * Identifiants incorrects")})).catch((function(e){console.log(e)}))},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Adresse e-mail"}),Object(C.jsx)("input",{type:"text",name:"mail",onChange:_})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Mot de passe"}),Object(C.jsx)("input",{type:"password",name:"password",onChange:_})]}),N&&Object(C.jsx)("p",{className:"error-message",children:N}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(O.a,{color:"red",children:"Annuler"})})]})]})]}),Object(C.jsxs)("div",{className:"login-part-two",children:[Object(C.jsx)(x.a,{as:"h2",className:"connect",onClick:function(){F(!0)},children:"Cr\xe9er un compte "}),I?Object(C.jsx)(y,{}):null]})]})]})},S=c(403),k=function(){var e=Object(r.f)();return Object(C.jsx)("div",{className:"burger-button",children:Object(C.jsx)(S.a,{item:!0,text:"",icon:"bars",children:Object(C.jsxs)(S.a.Menu,{children:[Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/dashboard")},children:"Liste des r\xe9parations"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/RepairSheetForm")},children:"Cr\xe9er une fiche de r\xe9paration"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/ClientList")},children:"Liste des clients"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/clientForm")},children:"Cr\xe9er une fiche client"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/archives")},children:"Liste des archives"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/workerForm")},children:"Cr\xe9er une fiche employ\xe9"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/workerList")},children:"Liste des employ\xe9s"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/PanneForm")},children:"Cr\xe9er un mod\xe8le de panne"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/PanneList")},children:"Liste des pannes"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/TagForm")},children:"Cr\xe9er un tag"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/TagList")},children:"Liste des tags"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/actionForm")},children:"Cr\xe9er une action"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/actions")},children:"Liste des action"}),Object(C.jsx)(S.a.Item,{onClick:function(){var t=localStorage.getItem("token");j.a.get("logout",{headers:{Authorization:"Bearer "+t}}).then((function(t){localStorage.removeItem("token"),e.push("/")})).catch((function(e){console.log(e)}))},className:"deconnect",children:"D\xe9connexion"})]})})})},w=function(){var e=Object(r.f)();return Object(C.jsx)("div",{className:"burger-button",children:Object(C.jsx)(S.a,{item:!0,text:"",icon:"bars",children:Object(C.jsxs)(S.a.Menu,{children:[Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/dashboard")},children:"Liste des r\xe9parations"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/RepairSheetForm")},children:"Cr\xe9er une fiche de r\xe9paration"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/ClientList")},children:"Liste des clients"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/clientForm")},children:"Cr\xe9er une fiche client"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/archives")},children:"Liste des archives"}),Object(C.jsx)(S.a.Item,{onClick:function(){var t=localStorage.getItem("token");j.a.get("logout",{headers:{Authorization:"Bearer "+t}}).then((function(t){localStorage.removeItem("token"),e.push("/")})).catch((function(e){console.log(e)}))},className:"deconnect",children:"D\xe9connexion"})]})})})},I=function(){var e=Object(r.f)(),t=localStorage.getItem("isAdmin");return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"navbar",children:[Object(C.jsx)("img",{src:m,alt:"logo",onClick:function(){return e.push("/dashboard")}}),Object(C.jsx)("div",{className:"ui search",children:Object(C.jsxs)("div",{className:"ui icon input",children:[Object(C.jsx)("input",{className:"prompt",type:"text",placeholder:"Rechercher une fiche SAV..."}),Object(C.jsx)("i",{className:"search icon"})]})}),Object(C.jsx)("div",{className:"profil-buttons",children:Object(C.jsx)(O.a,{color:"linkedin",onClick:function(){var t=localStorage.getItem("token");j.a.get("logout",{headers:{Authorization:"Bearer "+t}}).then((function(t){localStorage.removeItem("token"),e.push("/")})).catch((function(e){console.log(e)}))},children:"D\xe9connexion"})}),"true"===t?Object(C.jsx)(k,{}):Object(C.jsx)(w,{})]})})},F=c(236),_=c(182),y=function(e){var t=e.repair,c=Object(r.f)(),a=Object(n.useState)(!1),s=Object(i.a)(a,2),l=s[0],o=s[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),u=b[0],O=b[1],m=function(e){O(e.target.id),o(!0)},p=t.map((function(e){return Object(C.jsxs)(F.a.Row,{className:"grid-details",children:[Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.order_number})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsxs)("div",{className:"grid-details",children:[e.customer.lastname," ",e.customer.firstname]})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.device_name})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.device_brand})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:new Intl.DateTimeFormat("fr-FR").format(new Date(e.date_enter))})}),Object(C.jsxs)(F.a.Column,{className:"tags",children:[e.tags[0]?Object(C.jsx)("div",{className:"dashboard-tag",style:{backgroundColor:"".concat(e.tags[0].color)},children:e.tags[0].title},e.tags[0].id):null,e.tags[1]?Object(C.jsx)("div",{className:"dashboard-tag",style:{backgroundColor:"".concat(e.tags[1].color)},children:e.tags[1].title},e.tags[1].id):null,e.tags[2]?Object(C.jsx)("div",{className:"dashboard-tag",style:{backgroundColor:"".concat(e.tags[2].color)},children:e.tags[2].title},e.tags[2].id):null]}),Object(C.jsxs)(F.a.Column,{className:"options",children:[Object(C.jsx)("i",{className:"far fa-eye",onClick:function(){return c.push("/RepairSheet/".concat(e.order_number))}}),Object(C.jsx)("i",{className:"fas fa-pencil-alt",onClick:function(){return c.push("/RepairSheet/edit/".concat(e.order_number))}}),Object(C.jsx)("i",{className:"far fa-trash-alt",onClick:m,id:e.id})]})]},e.id)}));return Object(C.jsx)("div",{className:"main-page",children:Object(C.jsxs)("div",{className:"dashboard",children:[Object(C.jsx)(x.a,{as:"h1",children:"Liste des r\xe9parations"}),Object(C.jsx)(F.a,{columns:"equal",children:Object(C.jsxs)(F.a.Row,{children:[Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Ref"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Client"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Appareil"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Mod\xe8le"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Entr\xe9e"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Tags"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Options"})})]})}),Object(C.jsx)(_.a,{className:"grid-details",children:Object(C.jsx)(F.a,{columns:7,children:p})}),Object(C.jsx)(h.a,{open:l,onCancel:function(){o(!1)},onConfirm:function(){var e=localStorage.getItem("token");j.a.get("repairSheet/archive/".concat(u),{headers:{Authorization:"Bearer "+e}}).then((function(e){window.location.reload(!1)})).catch((function(e){console.log(e)}))},content:" \xcates-vous s\xfbr de vouloir archiver cette fiche ?",cancelButton:"Annuler",confirmButton:"OK"})]})})},A=c(233),D=function(){var e=Object(r.f)();return Object(C.jsx)("div",{className:"dashboard-menu",children:Object(C.jsxs)(A.a,{vertical:!0,children:[Object(C.jsx)(S.a,{item:!0,text:"R\xe9parations",children:Object(C.jsxs)(S.a.Menu,{children:[Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/RepairSheetForm")},children:"Cr\xe9er une fiche r\xe9paration"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/dashboard")},children:"Liste des r\xe9parations"})]})}),Object(C.jsx)(S.a,{item:!0,text:"Clients",children:Object(C.jsxs)(S.a.Menu,{children:[Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/clientForm")},children:"Cr\xe9er une fiche client"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/ClientList")},children:"Liste des clients"})]})}),Object(C.jsx)(S.a,{item:!0,text:"Archives",children:Object(C.jsx)(S.a.Menu,{children:Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/archives")},children:"Liste des archives"})})}),Object(C.jsx)(S.a,{item:!0,text:"Employ\xe9s",children:Object(C.jsxs)(S.a.Menu,{children:[Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/workerForm")},children:"Cr\xe9er une fiche employ\xe9"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/workerList")},children:"Liste des employ\xe9s"})]})}),Object(C.jsx)(S.a,{item:!0,text:"Tags",children:Object(C.jsxs)(S.a.Menu,{children:[Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/TagForm")},children:"Cr\xe9er un tag"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/TagList")},children:"Liste des tags"})]})}),Object(C.jsx)(S.a,{item:!0,text:"Actions",children:Object(C.jsxs)(S.a.Menu,{children:[Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/actionForm")},children:"Cr\xe9er une action"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/actions")},children:"Liste des actions"})]})}),Object(C.jsx)(S.a,{item:!0,text:"Pannes",children:Object(C.jsxs)(S.a.Menu,{children:[Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/PanneForm")},children:"Cr\xe9er un mod\xe8le de panne"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/PanneList")},children:"Liste des mod\xe8les de pannes"})]})})]})})},L=function(){var e=Object(r.f)();return Object(C.jsx)("div",{className:"dashboard-menu",children:Object(C.jsxs)(A.a,{vertical:!0,children:[Object(C.jsx)(S.a,{item:!0,text:"R\xe9parations",children:Object(C.jsxs)(S.a.Menu,{children:[Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/RepairSheetForm")},children:"Cr\xe9er une fiche r\xe9paration"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/dashboard")},children:"Liste des r\xe9parations"})]})}),Object(C.jsx)(S.a,{item:!0,text:"Clients",children:Object(C.jsxs)(S.a.Menu,{children:[Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/clientForm")},children:"Cr\xe9er une fiche client"}),Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/ClientList")},children:"Liste des clients"})]})}),Object(C.jsx)(S.a,{item:!0,text:"Archives",children:Object(C.jsx)(S.a.Menu,{children:Object(C.jsx)(S.a.Item,{onClick:function(){return e.push("/archives")},children:"Liste des archives"})})})]})})},z=c(141),R=function(){var e=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],d=r[1];return Object(C.jsxs)("div",{className:"tag-form",children:[Object(C.jsx)(x.a,{as:"h2",children:"Modifier le Tag"}),Object(C.jsxs)(b.a,{onSubmit:function(e){e.preventDefault();var t=o;j.a.patch("tag/edit/".concat(t),{title:l,color:c}).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Intitul\xe9 du tag"}),Object(C.jsx)("input",{type:"text",name:"title",onChange:function(e){return d(e.target.value)},placeholder:p})]}),Object(C.jsx)(b.a.Field,{children:Object(C.jsx)("label",{children:"Couleur"})}),Object(C.jsx)(z.a,{name:"color",color:c,onChangeComplete:function(e){return a(e.hex)}}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})]})},t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],d=l[1],u=Object(n.useState)(""),m=Object(i.a)(u,2),p=m[0],f=m[1],g=function(e){e.target.style.border="solid red 2px",f(e.target.title),s(!0),d(e.target.id)},v=Object(n.useState)(!1),N=Object(i.a)(v,2),S=N[0],k=N[1],w=Object(n.useState)(""),I=Object(i.a)(w,2),F=I[0],y=I[1],A=function(e){y(e.target.id),k(!0)},D=Object(n.useState)([]),L=Object(i.a)(D,2),R=L[0],M=L[1],E=R.map((function(e){return Object(C.jsxs)("div",{className:"tag",style:{backgroundColor:"".concat(e.color)},onDoubleClick:g,id:e.id,title:e.title,children:[e.title,Object(C.jsx)("div",{onClick:A,children:Object(C.jsx)("i",{className:"far fa-times-circle",id:e.id})})]},e.id)}));return Object(n.useEffect)((function(){j.a.get("tags").then((function(e){M(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(C.jsx)("div",{className:"tag-list",children:Object(C.jsxs)(_.a,{children:[Object(C.jsx)(x.a,{as:"h2",children:"Liste des Tags"}),Object(C.jsx)("p",{children:"Pour modifier un tag, double cliquez dessus!"}),Object(C.jsx)("div",{className:"tags",children:E}),a?Object(C.jsx)(e,{}):null,Object(C.jsx)(h.a,{open:S,onCancel:function(){k(!1)},onConfirm:function(){var e=F;j.a.get("tag/archive/".concat(e)).then((function(e){console.log(e),window.location.reload(!1),console.log("supprim\xe9")})).catch((function(e){console.log(e)})),k(!1)},content:" \xcates-vous s\xfbr de vouloir supprimer ce tag?",cancelButton:"Annuler",confirmButton:"OK"})]})})},M=function(){var e=Object(r.f)(),t=Object(n.useState)(null),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)(),o=Object(i.a)(l,2),d=o[0],u=o[1],h=Object(n.useState)(""),m=Object(i.a)(h,2),p=m[0],f=m[1];return Object(C.jsx)("div",{className:"tag-form",children:Object(C.jsxs)(_.a,{children:[Object(C.jsx)(x.a,{as:"h2",children:"Cr\xe9er un Tag"}),Object(C.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),j.a.post("tag/add",{title:p,color:d}).then((function(t){t.data.error?s(" * Merci de remplir tous les champs"):e.push("/TagList")})).catch((function(e){console.log(e)}))},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Intitul\xe9 du tag"}),Object(C.jsx)("input",{type:"text",name:"title",onChange:function(e){return f(e.target.value)}})]}),Object(C.jsx)(b.a.Field,{children:Object(C.jsx)("label",{children:"Couleur"})}),Object(C.jsx)(z.a,{name:"color",color:d,onChangeComplete:function(e){return u(e.hex)}}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"}),a&&Object(C.jsx)("p",{className:"error-message",children:a})]})]})]})})},E=c(406),T=c(408),B=c(402),V=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(i.a)(s,2),l=r[0],o=r[1],d=l.map((function(e){return Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)(E.a.Icon,{name:"bell"}),Object(C.jsxs)(E.a.Content,{children:[e.firstname," ",e.lastname," ","tag"===e.type?Object(C.jsx)("span",{children:"a ajout\xe9 le tag"}):null," ",Object(C.jsx)("span",{style:{color:e.color},children:e.name})," ",Object(C.jsx)("span",{style:{fontWeight:"bold"},children:e.order_number})," le ",new Intl.DateTimeFormat("fr-FR").format(new Date(e.created_at))]})]},e.created_at)}));return Object(n.useEffect)((function(){j.a.get("activity/10").then((function(e){o(e.data),a(!0)})).catch((function(e){console.log(e)}))}),[]),Object(C.jsx)("div",{className:"activity",children:Object(C.jsxs)(_.a,{children:[c?[]:Object(C.jsx)(T.a,{active:!0,inverted:!0,children:Object(C.jsx)(B.a,{inverted:!0})}),Object(C.jsx)(x.a,{as:"h2",children:"Historique"}),Object(C.jsx)(E.a,{children:d})]})})},P=function(e){var t=e.clients,c=Object(r.f)(),a=t.map((function(e){return Object(C.jsx)("option",{value:e.id,children:e.lastname+" "+e.firstname+" "+e.phone},e.id)})),s=Object(n.useState)({customer_id:"",firstname:"",lastname:"",phone:"",phone_two:"",mail:"",device_name:""}),l=Object(i.a)(s,2),u=l[0],h=l[1],m=function(e){h(Object(d.a)(Object(d.a)({},u),{},Object(o.a)({},e.target.name,e.target.value)))},p=Object(n.useRef)(!0),f=Object(n.useState)(null),g=Object(i.a)(f,2),v=g[0],N=g[1],S=Object(n.useState)(!0),k=Object(i.a)(S,2),w=k[0],I=k[1];return Object(n.useEffect)((function(){p.current?p.current=!1:I(""===u.device_name?(N("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"),!0):(N(null),!1))}),[u.lastname,u.firstname,u.phone,u.device_name]),Object(C.jsx)("div",{className:"repair-sheet-form",children:Object(C.jsxs)(b.a,{onSubmit:function(e){var t=localStorage.getItem("token");e.preventDefault(),j.a.post("repairSheet/stepOne",u,{headers:{Authorization:"Bearer "+t}}).then((function(e){var t=e.data.order_number.order_number;c.push("/RepairSheet/edit/".concat(t))})).catch((function(e){console.log(e)}))},children:[Object(C.jsx)(x.a,{as:"h2",children:"Choisissez un client"}),Object(C.jsxs)("select",{name:"customer_id",onChange:m,placeholder:"S\xe9lectionnez un client",children:[Object(C.jsx)("option",{children:"S\xe9lectionnez un client"}),a]}),Object(C.jsx)(x.a,{as:"h2",children:"Ou Cr\xe9ez un nouveau client"}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nom *"}),Object(C.jsx)("input",{type:"text",name:"lastname",onChange:m})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Pr\xe9nom *"}),Object(C.jsx)("input",{type:"text",name:"firstname",onChange:m})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Adresse e-mail"}),Object(C.jsx)("input",{type:"text",name:"mail",onChange:m})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"T\xe9l\xe9phone *"}),Object(C.jsx)("input",{type:"text",name:"phone",onChange:m})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"T\xe9l\xe9phone 2"}),Object(C.jsx)("input",{type:"text",name:"phone_two",onChange:m})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)(x.a,{as:"h2",children:"Nom de l'appareil \xe0 r\xe9parer *"}),Object(C.jsx)("input",{type:"text",name:"device_name",onChange:m})]}),v&&Object(C.jsx)("p",{className:"error-message",children:v}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",disabled:w,children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]}),"* Champs obligatoires"]})})},H=c(413),K=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(r.g)().order_number;return Object(n.useEffect)((function(){j.a.get("repairSheet/stepOne/".concat(s)).then((function(e){a(e.data[0])})).catch((function(e){console.log(e)}))}),[]),Object(C.jsxs)("div",{className:"repair-sheet-infos",children:[Object(C.jsxs)(x.a,{as:"h2",children:["Fiche de r\xe9paration n\xb0 ",c.order_number]}),Object(C.jsxs)(E.a,{children:[Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)(E.a.Icon,{name:"laptop"}),Object(C.jsx)(E.a.Content,{children:Object(C.jsx)(E.a.Header,{as:"h3",children:c.device_name})})]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)(E.a.Icon,{name:"address card"}),Object(C.jsx)(E.a.Content,{children:Object(C.jsxs)(E.a.Header,{as:"h4",children:[c.lastname," ",c.firstname]})})]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)(E.a.Icon,{name:"phone"}),Object(C.jsx)(E.a.Content,{children:Object(C.jsx)(E.a.Header,{as:"h4",children:c.phone})})]}),c.phone_two?Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)(E.a.Icon,{name:"phone"}),Object(C.jsx)(E.a.Content,{children:Object(C.jsx)(E.a.Header,{as:"h4",children:c.phone_two})})]}):Object(C.jsx)("p",{}),c.mail?Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)(E.a.Icon,{name:"mail"}),Object(C.jsx)(E.a.Content,{children:Object(C.jsx)(E.a.Header,{as:"h4",children:c.mail})})]}):Object(C.jsx)("p",{})]})]})},q=c(90),U=c.n(q),$=(c(175),c(176),function(){var e=Object(r.g)().order_number,t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],l=function(){s(!1)},o=Object(n.useState)(!1),d=Object(i.a)(o,2),x=d[0],m=d[1],p=function(e,t){var c=t.value;return m({value:c})},f=Object(n.useState)(!0),g=Object(i.a)(f,2),v=g[0],N=g[1],S=Object(n.useState)(null),k=Object(i.a)(S,2),w=k[0],I=k[1],F=Object(n.useRef)(!0),_=Object(n.useState)(""),y=Object(i.a)(_,2),A=y[0],D=y[1],L=Object(n.useState)(""),z=Object(i.a)(L,2),R=z[0],M=z[1],E=Object(n.useState)(null),T=Object(i.a)(E,2),B=T[0],V=T[1],P=Object(n.useState)([]),H=Object(i.a)(P,2),K=H[0],q=H[1],$=K.map((function(e){return Object(C.jsx)(u.a,{label:e.title,name:"panne",value:e.title+" / ",checked:x.value===e.title+" / ",onChange:p},e.id)}));return Object(n.useEffect)((function(){j.a.get("pannes").then((function(e){q(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){F.current?F.current=!1:N(function(){if(""===B)return I("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"),!0;I(null)}())}),[B]),Object(C.jsxs)("div",{className:"tab-form",children:[Object(C.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),j.a.patch("repairSheet/stepTwo/".concat(e),{panne:x.value+R,device_brand:A,interval_repair:B._d},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){s(!0)})).catch((function(e){console.log(e)})),t.target.reset()},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Mod\xe8le de l'appareil \xe0 r\xe9parer"}),Object(C.jsx)("input",{type:"text",name:"device_brand",onChange:function(e){return D(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Descriptif Panne"}),$,Object(C.jsx)("textarea",{name:"panne",onChange:function(e){return M(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"D\xe9lai de r\xe9paration"}),Object(C.jsx)(U.a,{locale:"fr",utc:!0,placeholder:"Saisissez une date",name:"date_devis",value:B,onChange:function(e){return V(e)}})]}),w&&Object(C.jsx)("p",{className:"error",children:w}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",disabled:v,children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]}),Object(C.jsx)(h.a,{open:a,onCancel:l,onConfirm:l,content:" Informations enregistr\xe9es ",cancelButton:"Fermer",confirmButton:"OK"})]})}),J=function(){var e=Object(r.g)().order_number,t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],l=function(){s(!1)},o=Object(n.useState)(""),d=Object(i.a)(o,2),u=d[0],x=d[1],m=Object(n.useState)(null),p=Object(i.a)(m,2),f=p[0],g=p[1],v=Object(n.useState)(!0),N=Object(i.a)(v,2),S=N[0],k=N[1],w=Object(n.useState)(null),I=Object(i.a)(w,2),F=I[0],_=I[1],y=Object(n.useRef)(!0);return Object(n.useEffect)((function(){y.current?y.current=!1:k(function(){if(""===f)return _("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"),!0;_(null)}())}),[f]),Object(C.jsxs)("div",{className:"tab-form",children:[Object(C.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),j.a.patch("repairSheet/stepThree/".concat(e),{intervention:u,date_intervention:f._d},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){s(!0)})).catch((function(e){console.log(e)})),t.target.reset()},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"D\xe9tails de l'intervention"}),Object(C.jsx)("input",{type:"text",name:"intervention",onChange:function(e){return x(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Date d'intervention"}),Object(C.jsx)(U.a,{locale:"fr",utc:!0,placeholder:"Saisissez une date",name:"date_devis",value:f,onChange:function(e){return g(e)}})]}),F&&Object(C.jsx)("p",{className:"error",children:F}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",disabled:S,children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]}),Object(C.jsx)(h.a,{open:a,onCancel:l,onConfirm:l,content:" Informations enregistr\xe9es ",cancelButton:"Fermer",confirmButton:"OK"})]})},Z=function(){var e=Object(r.g)().order_number,t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],l=function(){s(!1)},o=Object(n.useState)(""),d=Object(i.a)(o,2),x=d[0],m=d[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),g=f[0],v=f[1],N=Object(n.useState)(""),S=Object(i.a)(N,2),k=S[0],w=S[1],I=Object(n.useState)(null),F=Object(i.a)(I,2),_=F[0],y=F[1],A=Object(n.useState)(!0),D=Object(i.a)(A,2),L=D[0],z=D[1],R=Object(n.useState)(null),M=Object(i.a)(R,2),E=M[0],T=M[1],B=Object(n.useRef)(!0),V=Object(n.useState)(""),P=Object(i.a)(V,2),H=P[0],K=P[1],q=function(e,t){var c=t.value;return K({value:c})};return Object(n.useEffect)((function(){B.current?B.current=!1:z(function(){if(""===_)return T("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"),!0;T(null)}())}),[_]),Object(C.jsxs)("div",{className:"tab-form",children:[Object(C.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),j.a.patch("repairSheet/stepFour/".concat(e),{amount_devis:k,amount_diag:x,recall_devis:g,devis_is_accepted:H.value,date_devis:_._d},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){s(!0)})).catch((function(e){console.log(e)})),t.target.reset()},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Devis accept\xe9 ?"}),Object(C.jsx)(u.a,{radio:!0,label:"oui",name:"devis_is_accepted",value:"oui",checked:"oui"===H.value,onChange:q})]}),Object(C.jsx)(b.a.Field,{children:Object(C.jsx)(u.a,{radio:!0,label:"non",name:"devis_is_accepted",value:"non",checked:"non"===H.value,onChange:q})}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Date du devis"}),Object(C.jsx)(U.a,{locale:"fr",utc:!0,placeholder:"Saisissez une date",name:"date_devis",value:_,onChange:function(e){return y(e)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Montant du devis"}),Object(C.jsx)("input",{type:"number",name:"amount_devis",onChange:function(e){return w(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Montant Total"}),Object(C.jsx)("input",{type:"number",name:"amount_diag",onChange:function(e){return m(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nombre de rappels au client"}),Object(C.jsx)("input",{type:"number",name:"recall_devis",onChange:function(e){return v(e.target.value)}})]}),E&&Object(C.jsx)("p",{className:"error",children:E}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",disabled:L,children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]}),Object(C.jsx)(h.a,{open:a,onCancel:l,onConfirm:l,content:" Informations enregistr\xe9es ",cancelButton:"Fermer",confirmButton:"OK"})]})},W=function(){var e=Object(r.f)(),t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),d=o[0],u=o[1],m=Object(n.useState)(""),p=Object(i.a)(m,2),f=p[0],g=p[1],v=Object(n.useState)(""),N=Object(i.a)(v,2),S=N[0],k=N[1],w=Object(r.g)().order_number,I=Object(n.useState)(null),F=Object(i.a)(I,2),_=F[0],y=F[1],A=function(e){e.target.style.boxShadow="10px 10px 5px 0px #656565";var t=S,c=e.target.id;j.a.get("tag/".concat(c,"/sav/").concat(t),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),y(" *Tag ajout\xe9"),window.location.reload(!1)})).catch((function(e){console.log(e)}))},D=Object(n.useState)([]),L=Object(i.a)(D,2),z=L[0],R=L[1],M=Object(n.useState)(!1),E=Object(i.a)(M,2),T=E[0],B=E[1],V=Object(n.useState)(""),P=Object(i.a)(V,2),H=P[0],K=P[1],q=function(e){K(e.target.id),B(!0)},U=z.map((function(e){return Object(C.jsxs)("div",{className:"tag",style:{backgroundColor:"".concat(e.color)},id:e.id,onDoubleClick:A,children:[e.title,Object(C.jsx)("div",{onClick:q,children:Object(C.jsx)("i",{className:"far fa-times-circle",id:e.id})})]},e.id)})),$=Object(n.useState)([]),J=Object(i.a)($,2),Z=J[0],W=J[1],G=function e(){return j.a.get("actions").then((function(e){W(e.data)})).catch((function(e){console.log(e)})),e},Q=Z.map((function(e){return Object(C.jsx)("option",{value:e.id,children:e.name},e.id)})),X=Object(n.useState)(""),Y=Object(i.a)(X,2),ee=Y[0],te=Y[1];return Object(n.useEffect)((function(){j.a.get("tags").then((function(e){R(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){j.a.get("repairSheet/stepOne/".concat(w)).then((function(e){j.a.get("repairSheet/tag/".concat(e.data[0].id)).then((function(e){s(e.data[0]),u(e.data[1]),g(e.data[2])}))})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){G()}),[]),Object(n.useEffect)((function(){j.a.get("repairSheet/stepFour/".concat(w)).then((function(e){k(e.data[0].id)})).catch((function(e){console.log(e)}))}),[]),Object(C.jsxs)("div",{className:"tab-form",children:[Object(C.jsx)(x.a,{as:"h2",children:"Tags"}),Object(C.jsx)(x.a,{as:"h3",children:"Pour ajouter un tag, double-cliquez dessus !"}),Object(C.jsxs)("div",{className:"tag-list",children:[Object(C.jsx)("div",{className:"tags",children:U}),_&&Object(C.jsx)("p",{children:_})]}),Object(C.jsx)(x.a,{as:"h3",className:"tags-repair",children:"Tags reli\xe9s \xe0 la fiche :"}),Object(C.jsxs)("div",{className:"tag-area",children:[a?Object(C.jsx)("div",{className:"tags-on-form",style:{backgroundColor:"".concat(a.color)},children:a.title}):null,d?Object(C.jsx)("div",{className:"tags-on-form",style:{backgroundColor:"".concat(d.color)},children:d.title}):null,f?Object(C.jsx)("div",{className:"tags-on-form",style:{backgroundColor:"".concat(f.color)},children:f.title}):null]}),Object(C.jsx)(h.a,{open:T,onCancel:function(){B(!1)},onConfirm:function(){j.a.get("repairSheet/stepOne/".concat(w)).then((function(e){j.a.get("remove/".concat(H,"/sav/").concat(e.data[0].id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),window.location.reload(!1)}))})).catch((function(e){console.log(e)})),B(!1)},content:" \xcates-vous s\xfbr de vouloir supprimer ce tag?",cancelButton:"Annuler",confirmButton:"OK"}),Object(C.jsx)(x.a,{as:"h2",children:"Actions"}),Object(C.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),j.a.get("repairSheet/stepTwo/".concat(w)).then((function(t){j.a.get("action/".concat(ee,"/sav/").concat(t.data[0].id),{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.push("/dashboard"),window.location.reload(!1)})).catch((function(e){console.log(e)}))}))},children:[Object(C.jsx)(b.a.Field,{children:Object(C.jsxs)("select",{onChange:function(e){return te(e.target.value)},children:[Object(C.jsx)("option",{children:"S\xe9lectionnez une action"}),Q]})}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})]})},G=[{menuItem:"Client",render:function(){return Object(C.jsx)(H.a.Pane,{children:Object(C.jsx)(K,{})})}},{menuItem:"Appareil",render:function(){return Object(C.jsx)(H.a.Pane,{children:Object(C.jsx)($,{})})}},{menuItem:"Intervention",render:function(){return Object(C.jsx)(H.a.Pane,{children:Object(C.jsx)(J,{})})}},{menuItem:"Devis",render:function(){return Object(C.jsx)(H.a.Pane,{children:Object(C.jsx)(Z,{})})}},{menuItem:"Options",render:function(){return Object(C.jsx)(H.a.Pane,{children:Object(C.jsx)(W,{})})}}],Q=function(){return Object(C.jsx)("div",{className:"tab",children:Object(C.jsx)(H.a,{panes:G})})},X=c(232),Y=c.n(X),ee=c(181),te=c.n(ee),ce=function(){var e=Object(r.f)(),t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),d=o[0],b=o[1],u=Object(n.useState)([]),O=Object(i.a)(u,2),h=O[0],m=O[1],p=Object(n.useState)([]),f=Object(i.a)(p,2),g=f[0],v=f[1],N=Object(n.useState)(""),S=Object(i.a)(N,2),k=S[0],w=S[1],I=Object(n.useState)(""),F=Object(i.a)(I,2),y=F[0],A=F[1],D=Object(n.useState)(""),L=Object(i.a)(D,2),z=L[0],R=L[1],M=Object(n.useState)(!1),V=Object(i.a)(M,2),P=V[0],H=V[1],K=Object(r.g)().id,q="http://localhost:9090/RepairSheet/".concat(K);Object(n.useEffect)((function(){j.a.get("repairSheet/stepOne/".concat(K)).then((function(e){s(e.data[0]),H(!0)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){j.a.get("repairSheet/stepTwo/".concat(K)).then((function(e){b(e.data[0]),H(!0)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){j.a.get("repairSheet/stepThree/".concat(K)).then((function(e){m(e.data[0]),H(!0)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){j.a.get("repairSheet/stepFour/".concat(K)).then((function(e){v(e.data[0]),H(!0)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){j.a.get("repairSheet/stepOne/".concat(K)).then((function(e){j.a.get("repairSheet/tag/".concat(e.data[0].id)).then((function(e){w(e.data[0]),A(e.data[1]),R(e.data[2]),H(!0)}))})).catch((function(e){console.log(e)}))}),[]);var U=new Date(g.date_devis),$=new Date(d.interval_repair),J=new Date(h.date_intervention);return Object(C.jsx)("div",{className:"repair-sheet",children:Object(C.jsxs)(_.a,{children:[Object(C.jsxs)("div",{className:"repair-sheet-one",children:[Object(C.jsxs)("div",{className:"repair-header",children:[Object(C.jsx)("div",{}),Object(C.jsxs)(x.a,{as:"h2",children:["Fiche de r\xe9paration n\xb0 : ",a.order_number," "]}),P?[]:Object(C.jsx)(T.a,{active:!0,inverted:!0,children:Object(C.jsx)(B.a,{inverted:!0})}),Object(C.jsxs)("div",{className:"repair-icons",children:[Object(C.jsx)("i",{className:"fas fa-pencil-alt",onClick:function(){return e.push("/RepairSheet/edit/".concat(K))}}),Object(C.jsxs)(Y.a,{trigger:Object(C.jsx)("i",{className:"fas fa-print"}),children:[Object(C.jsxs)(x.a,{as:"h2",children:["Fiche de r\xe9paration n\xb0 : ",a.order_number," "]}),Object(C.jsx)("p",{className:"device",children:a.device_name}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Nom: "})," ",a.lastname," "]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Pr\xe9nom: "})," ",a.firstname," "]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"T\xe9l\xe9phone: "})," ",a.phone," "]}),Object(C.jsx)(te.a,{size:180,value:q})]})]})]}),Object(C.jsxs)("div",{className:"repair-sheet-device",children:[Object(C.jsx)("p",{className:"device",children:a.device_name}),d.device_brand?Object(C.jsx)("p",{className:"device",children:d.device_brand}):Object(C.jsx)("p",{})]}),Object(C.jsxs)("div",{className:"repair-sheet-options",children:[Object(C.jsx)(te.a,{size:180,value:q}),Object(C.jsxs)("div",{className:"tag-area",children:[k?Object(C.jsx)("div",{className:"repar-sheet-tag",style:{backgroundColor:"".concat(k.color)},children:k.title}):null,y?Object(C.jsx)("div",{className:"repar-sheet-tag",style:{backgroundColor:"".concat(y.color)},children:y.title}):null,z?Object(C.jsx)("div",{className:"repar-sheet-tag",style:{backgroundColor:"".concat(z.color)},children:z.title}):null]})]})]}),Object(C.jsxs)("div",{className:"repair-sheet-client",children:[Object(C.jsx)(x.a,{as:"h3",children:"Informations Client"}),Object(C.jsxs)(E.a,{children:[Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Nom: "})," ",a.lastname," "]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Pr\xe9nom: "})," ",a.firstname," "]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"T\xe9l\xe9phone: "})," ",a.phone," "]}),a.phone_two?Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"T\xe9l\xe9phone 2: "})," ",a.phone_two," "]}):Object(C.jsx)("p",{}),a.mail?Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Mail: "})," ",a.mail," "]}):Object(C.jsx)("p",{}),g.recall_devis?Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Nombre de rappels au client: "})," ",g.recall_devis," "]}):Object(C.jsx)("p",{})]})]}),Object(C.jsxs)("div",{className:"repair-sheet-repair",children:[Object(C.jsx)(x.a,{as:"h3",children:"Informations R\xe9paration"}),Object(C.jsxs)(E.a,{children:[Object(C.jsx)(E.a.Item,{children:Object(C.jsxs)(E.a.Content,{children:[d.interval_repair?Object(C.jsx)(E.a.Header,{children:"D\xe9lai maximum de r\xe9paration:"}):null,Object(C.jsxs)(E.a.Description,{children:[" ",d.interval_repair?$.toLocaleDateString("fr-FR"):null," "]})]})}),Object(C.jsx)(E.a.Item,{children:Object(C.jsxs)(E.a.Content,{children:[d.panne?Object(C.jsx)(E.a.Header,{children:"Description panne"}):Object(C.jsx)("p",{}),Object(C.jsxs)(E.a.Description,{children:[" ",d.panne," "]})]})}),Object(C.jsx)(E.a.Item,{children:Object(C.jsxs)(E.a.Content,{children:[h.intervention?Object(C.jsx)(E.a.Header,{children:"Description Intervention"}):Object(C.jsx)("p",{}),Object(C.jsxs)(E.a.Description,{children:[" ",h.intervention," "]})]})}),Object(C.jsx)(E.a.Item,{children:Object(C.jsxs)(E.a.Content,{children:[h.date_intervention?Object(C.jsx)(E.a.Header,{children:"Date d'intervention"}):Object(C.jsx)("p",{}),Object(C.jsxs)(E.a.Description,{children:[" ",h.date_intervention?J.toLocaleDateString("fr-FR"):null," "]})]})})]})]}),Object(C.jsxs)("div",{className:"repair-devis",children:[Object(C.jsx)(x.a,{as:"h3",children:"Informations Devis"}),Object(C.jsxs)(E.a,{children:[Object(C.jsx)(E.a.Item,{children:Object(C.jsxs)(E.a.Content,{children:[g.devis_is_accepted?Object(C.jsx)(E.a.Header,{children:"Devis accept\xe9 ?"}):Object(C.jsx)("p",{}),Object(C.jsxs)(E.a.Description,{children:[" ",g.devis_is_accepted,"  "]})]})}),Object(C.jsx)(E.a.Item,{children:Object(C.jsxs)(E.a.Content,{children:[g.date_devis?Object(C.jsx)(E.a.Header,{children:"Date devis : "}):Object(C.jsx)("p",{}),Object(C.jsxs)(E.a.Description,{children:[g.date_devis?U.toLocaleDateString("fr-FR"):null," "]})]})}),Object(C.jsx)(E.a.Item,{children:Object(C.jsxs)(E.a.Content,{children:[g.amount_devis?Object(C.jsx)(E.a.Header,{children:"Montant devis"}):Object(C.jsx)("p",{}),Object(C.jsxs)(E.a.Description,{className:"amount",children:[g.amount_devis,g.amount_devis?Object(C.jsx)("p",{children:"\u20ac"}):Object(C.jsx)("p",{})]})]})}),Object(C.jsx)(E.a.Item,{children:Object(C.jsxs)(E.a.Content,{children:[g.amount_diag?Object(C.jsx)(E.a.Header,{children:"Montant total"}):Object(C.jsx)("p",{}),Object(C.jsxs)(E.a.Description,{className:"amount",children:[g.amount_diag,g.amount_diag?Object(C.jsx)("p",{children:"\u20ac"}):Object(C.jsx)("p",{})]})]})})]})]})]})})},ne=function(e){var t=e.archive,c=Object(r.f)(),n=t.map((function(e){return Object(C.jsxs)(F.a.Row,{className:"grid-details",children:[Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.order_number})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsxs)("div",{className:"grid-details",children:[e.customer.lastname," ",e.customer.firstname]})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.device_name})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.device_brand})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:new Intl.DateTimeFormat("fr-FR").format(new Date(e.date_enter))})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("i",{className:"far fa-eye",onClick:function(){return c.push("/RepairSheet/".concat(e.order_number))}})})]},e.id)}));return Object(C.jsxs)("div",{className:"archive-list",children:[Object(C.jsx)(x.a,{as:"h2",children:"Liste des fiches archiv\xe9es"}),Object(C.jsxs)("div",{className:"dashboard",children:[Object(C.jsx)(F.a,{columns:"equal",children:Object(C.jsxs)(F.a.Row,{children:[Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"N\xb0 de billet"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Client"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Appareil"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Mod\xe8le"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Entr\xe9e en SAV"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Options"})})]})}),Object(C.jsx)(_.a,{className:"grid-details",children:Object(C.jsx)(F.a,{columns:6,children:n})})]})]})},ae=function(e){var t=e.clients,c=Object(r.f)(),n=t.map((function(e){return Object(C.jsxs)(F.a.Row,{className:"grid-details",children:[Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.lastname})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.firstname})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.mail})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.phone})}),Object(C.jsxs)(F.a.Column,{children:[Object(C.jsx)("i",{className:"far fa-eye",onClick:function(){return c.push("/client/".concat(e.id))}}),Object(C.jsx)("i",{className:"far fa-trash-alt"})]})]},e.id)}));return Object(C.jsxs)("div",{className:"client-list",children:[Object(C.jsx)(x.a,{as:"h2",children:"Liste des clients"}),Object(C.jsxs)("div",{className:"dashboard",children:[Object(C.jsx)(F.a,{columns:"equal",children:Object(C.jsxs)(F.a.Row,{children:[Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Nom"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Pr\xe9nom"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Mail"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"T\xe9l\xe9phone"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Options"})})]})}),Object(C.jsx)(_.a,{className:"grid-details",children:Object(C.jsx)(F.a,{columns:5,children:n})})]})]})},se=function(){var e=Object(r.f)(),t=Object(n.useState)({}),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(r.g)().id;return Object(n.useEffect)((function(){j.a.get("customer/".concat(l)).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[l]),Object(C.jsx)("div",{className:"client",children:Object(C.jsxs)(_.a,{children:[Object(C.jsxs)("div",{className:"client-header",children:[Object(C.jsx)("p",{}),Object(C.jsx)(x.a,{as:"h2",children:"Fiche Client"}),Object(C.jsx)("i",{className:"fas fa-pencil-alt",onClick:function(){return e.push("/clientEdit/".concat(a.id))},id:a.id})]}),Object(C.jsxs)(E.a,{children:[Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Nom: "})," ",a.lastname," "]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Pr\xe9nom: "})," ",a.firstname," "]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"T\xe9l\xe9phone: "})," ",a.phone," "]}),a.phone_two?Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"T\xe9l\xe9phone 2: "})," ",a.phone_two," "]}):Object(C.jsx)("p",{}),a.mail?Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Mail: "})," ",a.mail," "]}):Object(C.jsx)("p",{})]})]})})},ie=function(){var e=Object(r.f)(),t=Object(n.useState)({firstname:"",lastname:"",phone:"",phone_two:"",mail:""}),c=Object(i.a)(t,2),a=c[0],s=c[1],l=function(e){s(Object(d.a)(Object(d.a)({},a),{},Object(o.a)({},e.target.name,e.target.value)))},u=Object(n.useRef)(!0),h=Object(n.useState)(null),m=Object(i.a)(h,2),p=m[0],f=m[1],g=Object(n.useState)(!0),v=Object(i.a)(g,2),N=v[0],S=v[1];return Object(n.useEffect)((function(){u.current?u.current=!1:S(a.firstname&&a.lastname&&a.phone?(f(null),!1):(f("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"),!0))}),[a.lastname,a.firstname,a.phone]),Object(C.jsx)("div",{className:"client-form",children:Object(C.jsxs)(_.a,{children:[Object(C.jsx)(x.a,{as:"h2",children:"Cr\xe9er une fiche client"}),Object(C.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),j.a.post("customer/add",a,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),e.push("/ClientList"),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nom *"}),Object(C.jsx)("input",{type:"text",name:"lastname",onChange:l})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Pr\xe9nom *"}),Object(C.jsx)("input",{type:"text",name:"firstname",onChange:l})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Mail"}),Object(C.jsx)("input",{type:"text",name:"mail",onChange:l})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"T\xe9l\xe9phone *"}),Object(C.jsx)("input",{type:"text",name:"phone",onChange:l})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"T\xe9l\xe9phone 2"}),Object(C.jsx)("input",{type:"text",name:"phone_two",onChange:l})]}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",disabled:N,children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]}),p&&Object(C.jsx)("p",{className:"error-message",children:p}),"* Champs obligatoires"]})]})})},re=function(){var e=Object(r.f)(),t=Object(r.g)().id,c=Object(n.useState)(""),a=Object(i.a)(c,2),s=a[0],l=a[1];j.a.get("customer/".concat(t)).then((function(e){l(e.data)})).catch((function(e){console.log(e)}));var u=Object(n.useState)({firstname:"",lastname:"",phone:"",phone_two:"",mail:""}),h=Object(i.a)(u,2),m=h[0],p=h[1],f=function(e){p(Object(d.a)(Object(d.a)({},m),{},Object(o.a)({},e.target.name,e.target.value)))};return Object(C.jsx)("div",{className:"client-edit",children:Object(C.jsxs)(_.a,{children:[Object(C.jsxs)(x.a,{as:"h2",children:["Modifier la fiche client de ",s.lastname," ",s.firstname]}),Object(C.jsxs)(b.a,{onSubmit:function(c){c.preventDefault(),j.a.patch("customer/edit/".concat(t),m,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),e.push("/ClientList"),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nom"}),Object(C.jsx)("input",{type:"text",name:"lastname",onChange:f,placeholder:s.lastname})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Pr\xe9nom"}),Object(C.jsx)("input",{type:"text",name:"firstname",onChange:f,placeholder:s.firstname})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Mail"}),Object(C.jsx)("input",{type:"text",name:"mail",onChange:f})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"T\xe9l\xe9phone"}),Object(C.jsx)("input",{type:"text",name:"phone",onChange:f,placeholder:s.phone})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"T\xe9l\xe9phone 2"}),Object(C.jsx)("input",{type:"text",name:"phone_two",onChange:f})]}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})]})})},le=function(e){var t=e.workers,c=Object(r.f)(),n=t.map((function(e){return Object(C.jsxs)(F.a.Row,{className:"grid-details",children:[Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.lastname})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.firstname})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:e.mail})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)("div",{className:"grid-details",children:1===e.role_id?"Utilisateur":"Administrateur"})}),Object(C.jsxs)(F.a.Column,{children:[Object(C.jsx)("i",{className:"far fa-eye",onClick:function(){return c.push("/user/".concat(e.id))}}),Object(C.jsx)("i",{className:"far fa-trash-alt"})]})]},e.id)}));return Object(C.jsxs)("div",{className:"client-list",children:[Object(C.jsx)(x.a,{as:"h2",children:"Liste des employ\xe9s"}),Object(C.jsxs)("div",{className:"dashboard",children:[Object(C.jsx)(F.a,{columns:"equal",children:Object(C.jsxs)(F.a.Row,{children:[Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Nom"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Pr\xe9nom"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Mail"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Statut"})}),Object(C.jsx)(F.a.Column,{children:Object(C.jsx)(_.a,{children:"Options"})})]})}),Object(C.jsx)(_.a,{className:"grid-details",children:Object(C.jsx)(F.a,{columns:5,children:n})})]})]})},je=function(){var e=Object(r.f)(),t=Object(n.useState)({}),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(r.g)().id;return Object(n.useEffect)((function(){j.a.get("user/".concat(l)).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[l]),Object(C.jsx)("div",{className:"client",children:Object(C.jsxs)(_.a,{children:[Object(C.jsxs)("div",{className:"client-header",children:[Object(C.jsx)("p",{}),Object(C.jsx)(x.a,{as:"h2",children:"Fiche Employ\xe9"}),Object(C.jsx)("i",{className:"fas fa-pencil-alt",onClick:function(){return e.push("/workerEdit/".concat(a.id))},id:a.id})]}),Object(C.jsxs)(E.a,{children:[Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Nom: "})," ",a.lastname," "]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Pr\xe9nom: "})," ",a.firstname," "]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Mail: "})," ",a.mail," "]}),Object(C.jsxs)(E.a.Item,{children:[Object(C.jsx)("span",{className:"repair-span",children:"Statut: "})," ",1===a.role_id?"Utilisateur":"Administrateur"," "]})]})]})})},oe=function(){var e=Object(r.f)(),t=Object(r.g)().id,c=Object(n.useState)(""),a=Object(i.a)(c,2),s=a[0],l=a[1];j.a.get("user/".concat(t)).then((function(e){l(e.data)})).catch((function(e){console.log(e)}));var u=Object(n.useState)({firstname:"",lastname:"",mail:"",password:""}),h=Object(i.a)(u,2),m=h[0],p=h[1],f=Object(n.useState)(null),g=Object(i.a)(f,2),v=g[0],N=g[1],S=function(e){p(Object(d.a)(Object(d.a)({},m),{},Object(o.a)({},e.target.name,e.target.value)))};return Object(C.jsx)("div",{className:"client-edit",children:Object(C.jsxs)(_.a,{children:[Object(C.jsxs)(x.a,{as:"h2",children:["Modifier la fiche employ\xe9 de ",s.lastname," ",s.firstname]}),Object(C.jsxs)(b.a,{onSubmit:function(c){c.preventDefault(),j.a.patch("user/edit/".concat(t),m,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),t.data?(e.push("/workerList"),window.location.reload(!1)):N(" * Mot de passe incorrect")})).catch((function(e){console.log(e)}))},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nom"}),Object(C.jsx)("input",{type:"text",name:"lastname",onChange:S,placeholder:s.lastname})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Pr\xe9nom"}),Object(C.jsx)("input",{type:"text",name:"firstname",onChange:S,placeholder:s.firstname})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Mail"}),Object(C.jsx)("input",{type:"text",name:"mail",onChange:S})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Saisissez votre mot de passe pour confirmer:"}),Object(C.jsx)("input",{type:"password",name:"password",onChange:S})]}),v&&Object(C.jsx)("p",{className:"error-message",children:v}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})]})})},de=function(){var e=Object(r.f)(),t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),d=o[0],h=o[1],m=Object(n.useState)(""),p=Object(i.a)(m,2),g=p[0],N=p[1],S=Object(n.useState)(""),k=Object(i.a)(S,2),w=k[0],I=k[1],F=Object(n.useState)(!1),y=Object(i.a)(F,2),A=y[0],D=y[1],L=function(e,t){var c=t.value;return D({value:c})},z=Object(n.useRef)(!0),R=Object(n.useState)(null),M=Object(i.a)(R,2),E=M[0],T=M[1],B=Object(n.useState)(""),V=Object(i.a)(B,2),P=V[0],H=V[1];return Object(n.useEffect)((function(){z.current?z.current=!1:""===d||""===a||""===w?T("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"):w!==P?T("* Mot de passe incorrect"):f.a.validate(w)?v.a.validate(g)?T(null):T(" * Mail incorrect"):T(" * Votre mot de passe doit contenir une majuscule, un chiffre et un caract\xe8re sp\xe9cial")}),[d,a,w,g,P]),Object(C.jsx)("div",{className:"worker-form",children:Object(C.jsxs)(_.a,{children:[Object(C.jsx)(x.a,{as:"h2",children:"Cr\xe9er un compte "}),Object(C.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),j.a.post("user/add",{firstname:a,lastname:d,mail:g,password:w,role_id:A.value},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){if(t.data.error)return T(" * Erreur, veuillez recommencer");e.push("/workerList"),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nom"}),Object(C.jsx)("input",{type:"text",name:"lastname",onChange:function(e){return h(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Pr\xe9nom"}),Object(C.jsx)("input",{type:"text",name:"firstname",onChange:function(e){return s(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Adresse mail"}),Object(C.jsx)("input",{type:"text",name:"mail",onChange:function(e){return N(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Mot de passe"}),Object(C.jsx)("input",{type:"password",name:"password",onChange:function(e){return I(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Confirmez le mot de passe"}),Object(C.jsx)("input",{type:"password",name:"password2",onChange:function(e){return H(e.target.value)}})]}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"R\xf4le"}),Object(C.jsx)(u.a,{radio:!0,label:"Administrateur",name:"role_id",value:"2",checked:"2"===A.value,onChange:L}),Object(C.jsx)(u.a,{radio:!0,label:"Utilisateur",name:"role_id",value:"1",checked:"1"===A.value,onChange:L})]}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]}),E&&Object(C.jsx)("p",{className:"error-message",children:E})]})]})})},be=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1],d=Object(n.useState)(""),u=Object(i.a)(d,2),h=u[0],m=u[1],p=function(e){m(e.target.title),S(!0),o(e.target.id)},f=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(C.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),j.a.patch("action/edit/".concat(l),{name:c}).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(C.jsx)(x.a,{as:"h2",children:"Modifier l'action"}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nom de la nouvelle action :"}),Object(C.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)},placeholder:h})]}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})},g=Object(n.useState)(!1),v=Object(i.a)(g,2),N=v[0],S=v[1],k=c.map((function(e){return Object(C.jsxs)(_.a,{className:"panne-segment",color:1===e.is_blocked?"pink":"grey",children:[e.name,Object(C.jsx)("div",{className:"options",children:0===e.is_blocked?Object(C.jsx)("i",{className:"fas fa-pencil-alt",onClick:p,id:e.id,title:e.name}):null})]},e.id)}));return Object(n.useEffect)((function(){j.a.get("actions").then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(C.jsxs)("div",{className:"panne-list",children:[Object(C.jsx)(x.a,{as:"h2",children:"Liste des actions cr\xe9es :"}),Object(C.jsx)(_.a,{children:k}),N?Object(C.jsx)(f,{}):null]})},ue=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1];return Object(C.jsx)("div",{className:"panne-form",children:Object(C.jsxs)(_.a,{children:[Object(C.jsx)(x.a,{as:"h2",children:"Cr\xe9er une action"}),Object(C.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),j.a.post("action/add",{name:c},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o("* Action enregistr\xe9e avec succ\xe8s !")})).catch((function(e){console.log(e)})),e.target.reset()},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nom de l'action :"}),Object(C.jsx)("input",{type:"text",name:"name",onChange:function(e){return a(e.target.value)}})]}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"}),l&&Object(C.jsx)("p",{className:"error-message",children:l})]})]})]})})},Oe=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1];return Object(C.jsx)("div",{className:"panne-form",children:Object(C.jsxs)(_.a,{children:[Object(C.jsx)(x.a,{as:"h2",children:"Cr\xe9er un mod\xe8le de panne"}),Object(C.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),j.a.post("panne/add",{title:c},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o("* Panne enregistr\xe9e avec succ\xe8s !")})).catch((function(e){console.log(e)})),e.target.reset()},children:[Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nom de la panne :"}),Object(C.jsx)("input",{type:"text",name:"title",onChange:function(e){return a(e.target.value)}})]}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"}),l&&Object(C.jsx)("p",{className:"error-message",children:l})]})]})]})})},he=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),l=r[0],o=r[1],d=Object(n.useState)(""),u=Object(i.a)(d,2),m=u[0],p=u[1],f=function(e){p(e.target.id),o(!0)},g=Object(n.useState)(""),v=Object(i.a)(g,2),N=v[0],S=v[1],k=Object(n.useState)(""),w=Object(i.a)(k,2),I=w[0],F=w[1],y=function(e){F(e.target.title),R(!0),S(e.target.id)},A=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(C.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),j.a.patch("panne/edit/".concat(N),{title:c}).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(C.jsx)(x.a,{as:"h2",children:"Modifier la panne"}),Object(C.jsxs)(b.a.Field,{children:[Object(C.jsx)("label",{children:"Nom de la nouvelle panne :"}),Object(C.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)},placeholder:I})]}),Object(C.jsxs)("div",{className:"buttons",children:[Object(C.jsx)(O.a,{color:"teal",children:"Valider"}),Object(C.jsx)(O.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})},D=Object(n.useState)(!1),L=Object(i.a)(D,2),z=L[0],R=L[1],M=c.map((function(e){return Object(C.jsxs)(_.a,{className:"panne-segment",children:[e.title,Object(C.jsxs)("div",{className:"options",children:[Object(C.jsx)("i",{className:"far fa-trash-alt",onClick:f,id:e.id}),Object(C.jsx)("i",{className:"fas fa-pencil-alt",onClick:y,id:e.id,title:e.title})]})]},e.id)}));return Object(n.useEffect)((function(){j.a.get("pannes").then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(C.jsxs)("div",{className:"panne-list",children:[Object(C.jsx)(x.a,{as:"h2",children:"Liste des pannes cr\xe9es :"}),Object(C.jsx)(_.a,{children:M}),Object(C.jsx)(h.a,{open:l,onCancel:function(){o(!1)},onConfirm:function(){j.a.get("panne/archive/".concat(m)).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)})),o(!1)},content:" \xcates-vous s\xfbr de vouloir supprimer cette panne?",cancelButton:"Annuler",confirmButton:"OK"}),z?Object(C.jsx)(A,{}):null]})},xe=function(){var e=localStorage.getItem("isAdmin"),t=localStorage.getItem("token"),c=Object(n.useState)([]),a=Object(i.a)(c,2),s=a[0],l=a[1],o=Object(n.useState)([]),d=Object(i.a)(o,2),b=d[0],u=d[1],O=Object(n.useState)([]),h=Object(i.a)(O,2),x=h[0],m=h[1],p=Object(n.useState)([]),f=Object(i.a)(p,2),g=f[0],v=f[1];return Object(n.useEffect)((function(){j.a.get("repairSheets").then((function(e){l(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){j.a.get("customers").then((function(e){u(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){j.a.get("archivedRepairSheets").then((function(e){m(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){j.a.get("users").then((function(e){v(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(r.b,{exact:!0,path:"/",children:Object(C.jsx)(N,{})}),Object(C.jsxs)(r.b,{exact:!0,path:"/dashboard",children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(y,{repair:s}),Object(C.jsx)(V,{})]})]}),Object(C.jsx)(r.b,{exact:!0,path:"/RepairSheetForm",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(P,{clients:b}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/RepairSheet/edit/:order_number",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(Q,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/RepairSheet/:id",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(ce,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/TagList",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(R,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/TagForm",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(M,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/archives",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(ne,{archive:x}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/ClientList",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(ae,{clients:b}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/client/:id",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(se,{}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/clientform",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(ie,{}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/clientEdit/:id",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(re,{}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/workerList",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(le,{workers:g}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/user/:id",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(je,{}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/workerEdit/:id",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(oe,{}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/workerForm",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(de,{}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/actions",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(be,{}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/actionForm",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(ue,{}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/PanneForm",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(Oe,{}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}}),Object(C.jsx)(r.b,{exact:!0,path:"/PanneList",render:function(){return t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I,{}),Object(C.jsxs)("div",{className:"main-page",children:["true"===e?Object(C.jsx)(D,{}):Object(C.jsx)(L,{}),Object(C.jsx)(he,{}),Object(C.jsx)(V,{})]})]}):Object(C.jsx)(r.a,{to:"/"})}})]})};j.a.defaults.baseURL="https://d1w95kht64fc6l.cloudfront.net/";var me=document.getElementById("root");Object(a.render)(Object(C.jsx)(s.a,{children:Object(C.jsx)(xe,{})}),me)}},[[391,1,2]]]);
//# sourceMappingURL=main.b8810423.chunk.js.map